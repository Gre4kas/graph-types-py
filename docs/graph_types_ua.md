# Документація типів графів

Ця бібліотека надає 4 фундаментальні типи графів, кожен з яких оптимізований для конкретних випадків використання та обмежень. Усі реалізації дотримуються стандартів SOLID та використовують спеціальну стратегію `GraphRepresentation` для ефективного зберігання.

## 1. SimpleGraph (Простий граф)

Найбазовіший тип графа. Представляє стандартні математичні графи $G = (V, E)$.

**Обмеження:**
- Без петлель (self-loops): Ребро не може з'єднувати вершину саму з собою.
- Без паралельних ребер: Між будь-якою парою вершин може існувати лише одне ребро.
- Може бути орієнтованим або неорієнтованим.

**Використання:**
```python
from packages.graphs.simple_graph import SimpleGraph

# Створення неорієнтованого простого графа
graph = SimpleGraph(directed=False)
graph.add_vertex("A")
graph.add_vertex("B")
graph.add_edge("A", "B", weight=5.0)

# Перевірка обмежень
try:
    graph.add_edge("A", "A")  # Викличе GraphConstraintError (петля)
except Exception as e:
    print(e)
```

**Деталі реалізації:**
- Використовує `AdjacencyListRepresentation` за замовчуванням (O(1) середній час доступу).
- Підтримує перемикання на `AdjacencyMatrixRepresentation` для щільних графів.

---

## 2. Multigraph (Мультиграф)

Дозволяє кілька ребер між однією парою вершин. Корисно для представлення складних відносин, таких як кілька авіарейсів між містами або кілька транзакцій між рахунками.

**Обмеження:**
- **Дозволені паралельні ребра:** Паралельні ребра є окремими об'єктами та мають унікальні ID всередині.
- Петлі (self-loops) заборонені.

**Використання:**
```python
from packages.graphs.multigraph import Multigraph

multi = Multigraph()
multi.add_vertex("A")
multi.add_vertex("B")

# Додавання кількох ребер між одними й тими самими вершинами
multi.add_edge("A", "B", weight=10.0, label="Денний рейс")
multi.add_edge("A", "B", weight=5.0, label="Нічний рейс")

print(f"Кількість ребер між A та B: {multi.edge_multiplicity('A', 'B')}")  # Вивід: 2
```

**Деталі реалізації:**
- Використовує спеціалізоване `MultigraphRepresentation`, де список суміжності відображається на *список* (list) сусідів, а не на множину (set).

---

## 3. Pseudograph (Псевдограф)

Найбільш ліберальний тип бінарного графа. Дозволяє як паралельні ребра, так і петлі.

**Обмеження:**
- **Дозволені петлі (self-loops).**
- **Дозволені паралельні ребра.**

**Використання:**
```python
from packages.graphs.pseudograph import Pseudograph

pseudo = Pseudograph()
pseudo.add_vertex("A")

# Петлі
pseudo.add_edge("A", "A", weight=1.0)

# Специфічні методи
print(f"Має петлю: {pseudo.has_self_loop('A')}")
print(f"Загальний ступінь (петля рахується двічі): {pseudo.total_degree('A')}")
```

**Деталі реалізації:**
- Успадковує більшість функціоналу від `Multigraph`, але не має перевірки обмеження на петлі.

---

## 4. Hypergraph (Гіперграф)

Узагальнення, де ребро (гіперребро) може з'єднувати **будь-яку кількість** вершин, а не тільки дві.

**Обмеження:**
- Гіперребра — це множини вершин (розмір ≥ 1).
- Відсутнє поняття "напрямку" в традиційному розумінні (завжди неорієнтований).

**Використання:**
```python
from packages.graphs.hypergraph import Hypergraph

hyper = Hypergraph()
hyper.add_vertex("User1")
hyper.add_vertex("User2")
hyper.add_vertex("User3")

# Додавання гіперребра, що представляє груповий чат
hyper.add_hyperedge({"User1", "User2", "User3"}, label="GroupChat")

# Інцидентність
print(f"User1 у гіперребрах: {len(hyper.get_incident_hyperedges('User1'))}")
```

**Деталі реалізації:**
- Використовує `HypergraphRepresentation` на основі карти інцидентності.
- Може бути конвертований у двочастковий (bipartite) `SimpleGraph` для візуалізації або застосування стандартних алгоритмів.

---

## Підсумок відмінностей

| Тип | Петлі? | Паралельні ребра? | Арність ребра | Випадок використання |
|------|-------------|-----------------|------------|----------|
| **SimpleGraph** | ❌ Ні | ❌ Ні | 2 | Стандартні мережі, соціальні графи |
| **Multigraph** | ❌ Ні | ✅ Так | 2 | Транспортні мережі, логістика |
| **Pseudograph** | ✅ Так | ✅ Так | 2 | Скінченні автомати, молекулярні структури |
| **Hypergraph** | N/A | N/A | ≥ 1 | Соціальні групи, біологічні шляхи |
